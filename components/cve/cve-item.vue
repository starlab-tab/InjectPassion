<template>
	<view class="cve-item">
		<view class="ci-top" @click="tapCve">
			<text>{{item.name}}</text>
		</view>
		<view class="ci-center">
			<view class="ci-date">
				<text>published: </text>
				<text class="d-value">{{item.published}}</text>
			</view>
			<view class="ci-date">
				<text>updated: </text>
				<text class="d-value">{{item.updated}}</text>
			</view>
		</view>
		<view class="ci-bottom">
			<view class="ci-cve">{{item.cve}}</view>
			<view class="ci-category">{{item.category}}</view>
		</view>
		<view class="gap"></view>
	</view>
</template>

<script>
	export default {
		props: {
			item: {
				type: Object,
				default() {
					return {}
				}
			}
		},
		data() {
			return {
				
			};
		},
		methods: {
			tapCve() {
				let cve = {
					id: this.item.id,
					name: this.item.name,
					published: this.item.published,
					updated: this.item.updated,
					cve: this.item.cve,
					cnnvd: this.item.cnnvd,
					description: this.item.description,
					category: this.item.category,
					Exp: this.item.Exp,
					Cvss_2: this.item.Cvss_2,
					Cvss_3: this.item.Cvss_3
				}
				uni.navigateTo({
					url: "/pages/cve/detail?cve=" + encodeURIComponent(JSON.stringify(cve).replace(/%/g, '%25'))
				})
			}
		}
	}
</script>

<style lang="scss" scoped>
	
	.cve-item {
		display: flex;
		flex-direction: column;
		margin-top: 30rpx;
		.gap {
			height: 30rpx;
			background-color: #f2f2f2;
			padding: 0;
		}
		
		.ci-top {
			padding: 20rpx;
			font-size: 36rpx;
			color: #585858;
		}
		
		.ci-center {
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			padding: 20rpx;
			font-size: 24rpx;
			color: #aaaaaa;
			.ci-date {
				color: #818181;
				
				.d-value {
					margin-left: 16rpx;
					color: #1da29b;
				}
			}
		}
		
		.ci-bottom {
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
			font-size: 24rpx;
			padding: 20rpx;
			.ci-cve {
				padding: 10rpx;
				background-color: #1da29b;
				color: #FFFFFF;
				border-radius: 6rpx;
			}
			
			.ci-category {
				padding: 10rpx;
				margin-left: 10rpx;
				background-color: #e1e1e1;
				color: #9a9a9a;
				border-radius: 6rpx;
			}
		}
	}

</style>
